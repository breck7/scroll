{"version":3,"file":"star-glob.js","sourceRoot":"","sources":["../../src/star-glob.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,MAAM,CAAA;AACnC,OAAO,EAAE,OAAO,EAAE,MAAM,MAAM,CAAA;AAE9B,MAAM,CAAC,MAAM,QAAQ,GAAG,KAAK,EAC3B,IAAsB,EAAE,2BAA2B;AACnD,GAAW,EACkB,EAAE;IAC/B,MAAM,OAAO,GACX,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACnC,IAAI;QACJ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACrC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;IACjB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE;QAClC,KAAK,EAAE,IAAI;QACX,QAAQ,EAAE,KAAK;QACf,KAAK,EAAE,IAAI;QACX,GAAG,EAAE,GAAG;QACR,WAAW,EAAE,IAAI;KAClB,CAAC,CAAA;IACF,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;QACzB,MAAM,GAAG,GAAG,KAAK,CAAC,SAAS,CACzB,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,EACd,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAC9B,CAAA;QACD,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAA;IACnC,CAAC,CAAC,CAAA;AACJ,CAAC,CAAA","sourcesContent":["import { escape, glob } from 'glob'\nimport { resolve } from 'path'\n\nexport const starGlob = async (\n  star: [string, string], // actually [string,string]\n  dir: string\n): Promise<[string, string][]> => {\n  const pattern =\n    escape(star[0]) +\n    (star[0].endsWith('/') ? '' : '*/') +\n    '**' +\n    (star[1].startsWith('/') ? '' : '/*') +\n    escape(star[1])\n  const matches = await glob(pattern, {\n    posix: true,\n    absolute: false,\n    nodir: true,\n    cwd: dir,\n    dotRelative: true,\n  })\n  return matches.map(match => {\n    const rep = match.substring(\n      star[0].length,\n      match.length - star[1].length\n    )\n    return [rep, resolve(dir, match)]\n  })\n}\n"]}