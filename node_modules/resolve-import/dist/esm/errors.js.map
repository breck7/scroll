{"version":3,"file":"errors.js","sourceRoot":"","sources":["../../src/errors.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Errors raised by resolve failures.\n * @module\n */\n\nimport { resolveImport } from './resolve-import.js'\n\n// TODO: move \"caller\" to an options object. Then the same options object can\n// be used that handles conditions, parentURL, etc., and the relevant\n// top-level function can set it explicitly at the start of the process and\n// just pass it along.\n\nexport const invalidImportSpecifier = (\n  url: string,\n  caller: (...a: any[]) => any = resolveImport\n) => {\n  const er = new Error('invalid import() specifier: ' + url)\n  Error.captureStackTrace(er, caller)\n  return er\n}\n\nexport const invalidPackage = (\n  pj: string | URL,\n  caller: (...a: any[]) => any = resolveImport\n) => {\n  const er = new Error(`Not a valid package: ${pj}`)\n  Error.captureStackTrace(er, caller)\n  return er\n}\n\nexport const relativeImportWithoutParentURL = (\n  url: string,\n  parentURL: any,\n  caller: (...a: any[]) => any = resolveImport\n) => {\n  const er = Object.assign(\n    new Error('relative import without parentURL'),\n    {\n      url,\n      parentURL,\n    }\n  )\n  Error.captureStackTrace(er, caller)\n  return er\n}\n\nexport const subpathNotExported = (\n  sub: string,\n  pj: string,\n  from: string,\n  caller: (...a: any[]) => any = resolveImport\n) => {\n  const p =\n    sub === '.'\n      ? 'No \"exports\" main defined'\n      : `Package subpath '${sub}' is not defined by \"exports\"`\n  const er = Object.assign(\n    new Error(`${p} in ${pj} imported from ${from}`),\n    {\n      code: 'ERR_PACKAGE_PATH_NOT_EXPORTED',\n    }\n  )\n  Error.captureStackTrace(er, caller)\n  return er\n}\n\nexport const packageNotFound = (\n  path: string | null,\n  from: string,\n  caller: (...a: any[]) => any = resolveImport\n) => {\n  const er = Object.assign(\n    new Error(`Cannot find package '${path}' imported from ${from}`),\n    {\n      code: 'ERR_MODULE_NOT_FOUND',\n    }\n  )\n  Error.captureStackTrace(er, caller)\n  return er\n}\n\nexport const moduleNotFound = (\n  path: string,\n  from: string,\n  caller: (...a: any[]) => any = resolveImport\n) => {\n  const er = Object.assign(\n    new Error(`Cannot find module '${path}' imported from ${from}`),\n    {\n      code: 'ERR_MODULE_NOT_FOUND',\n    }\n  )\n  Error.captureStackTrace(er, caller)\n  return er\n}\n\nexport const packageImportNotDefined = (\n  path: string,\n  pj: string,\n  from: string,\n  caller: (...a: any[]) => any = resolveImport\n) => {\n  const er = Object.assign(\n    new Error(\n      `Package import specifier \"${path}\" is not defined in package ` +\n        `${pj} imported from ${from}`\n    ),\n    { code: 'ERR_PACKAGE_IMPORT_NOT_DEFINED' }\n  )\n  Error.captureStackTrace(er, caller)\n  return er\n}\n"]}