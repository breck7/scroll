{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";;;AAAA;;;GAGG;AACH,2CAAmD;AACnD,mDAA2C;AAC3C,qCAA8B;AAC9B,mDAA2C;AAC3C,uDAA+C;AAC/C,iEAAwD;AACxD,yCAAkC;AAClC,uCAA6C;AAC7C,2CAAoC;AAgBpC,MAAM,MAAM,GAAG,CAAiB,CAAI,EAAU,EAAE,CAAC,CAAC;IAChD,IAAI,EAAE,CAAC,CAAC,KAAK,EAAE;IACf,KAAK,EAAE,CAAC,CAAC,KAAK;CACf,CAAC,CAAA;AASF,MAAM,EAAE,GACN,CAAiB,GAAa,EAAE,EAAE,CAClC,CAAC,GAAQ,EAAE,OAAY,EAAE,UAA0B,EAAE,EAAE,EAAE,CACvD,MAAM,CACJ,IAAI,GAAG,CAAC,GAAG,EAAE;IACX,GAAG,OAAO;IACV,MAAM,EAAE,OAAO;IACf,MAAM,EAAE,SAAS;CAClB,CAAC,CACH,CAAA;AAEL,qDAAqD;AAC9C,MAAM,MAAM,GAAG,CACpB,GAAQ,EACR,UAAyB,EAAE,EACnB,EAAE,CAAC,IAAI,kBAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,KAAK,EAAE,CAAA;AAHhC,QAAA,MAAM,UAG0B;AAC7C,wDAAwD;AAC3C,QAAA,IAAI,GAAG,EAAE,CAAC,cAAI,CAAC,CAAA;AAC5B,4CAA4C;AAC/B,QAAA,MAAM,GAAG,EAAE,CAAC,kBAAM,CAAC,CAAA;AAChC,yCAAyC;AAC5B,QAAA,GAAG,GAAG,EAAE,CAAC,YAAG,CAAC,CAAA;AAC1B,+CAA+C;AAClC,QAAA,SAAS,GAAG,EAAE,CAAC,yBAAS,CAAC,CAAA;AACtC,2CAA2C;AAC9B,QAAA,KAAK,GAAG,EAAE,CAAC,gBAAK,CAAC,CAAA;AAC9B,+CAA+C;AAClC,QAAA,SAAS,GAAG,EAAE,CAAC,yBAAS,CAAC,CAAA;AACtC,iDAAiD;AACpC,QAAA,WAAW,GAAG,EAAE,CAAC,6BAAW,CAAC,CAAA;AAC1C,qDAAqD;AACxC,QAAA,eAAe,GAAG,EAAE,CAAC,sCAAe,CAAC,CAAA;AAElD,yCAAoC;AAA3B,mGAAA,MAAM,OAAA;AAEf,iDAA2C;AAAlC,0GAAA,SAAS,OAAA;AAClB,mCAA8B;AAArB,6FAAA,GAAG,OAAA;AACZ,iDAA2C;AAAlC,0GAAA,SAAS,OAAA;AAClB,qDAA+C;AAAtC,8GAAA,WAAW,OAAA;AACpB,+DAAwD;AAA/C,uHAAA,eAAe,OAAA;AACxB,uCAAkC;AAAzB,iGAAA,KAAK,OAAA;AACd,qCAAgC;AAAvB,+FAAA,IAAI,OAAA;AAEb,yCAAoC;AAA3B,mGAAA,MAAM,OAAA;AACf,yCAAoC;AAA3B,mGAAA,MAAM,OAAA","sourcesContent":["/**\n * Export all implementation classes, and convenience methods for each\n * @module\n */\nimport { Format, FormatOptions } from './format.js'\nimport { HasStrict } from './has-strict.js'\nimport { Has } from './has.js'\nimport { MatchOnly } from './match-only.js'\nimport { MatchStrict } from './match-strict.js'\nimport { MatchOnlyStrict } from './match-only-strict.js'\nimport { Match } from './match.js'\nimport { Same, SameOptions } from './same.js'\nimport { Strict } from './strict.js'\n\n/**\n * The return value from all comparison functions.\n */\nexport interface Result {\n  /**\n   * Diff of formatted test object and expected pattern. Only shows\n   * properties which differ, not the entire object.\n   */\n  diff: string\n  /**\n   * whether or not the objects are a satisfying match\n   */\n  match: boolean\n}\nconst simple = <T extends Same>(o: T): Result => ({\n  diff: o.print(),\n  match: o.match,\n})\n\ntype Class<T> = { new (obj: any, options: SameOptions): T }\n\n/**\n * Options that can be used to set how diffs are formatted.\n */\nexport type CompareOptions = FormatOptions &\n  Pick<SameOptions, 'diffContext'>\nconst fn =\n  <T extends Same>(Cls: Class<T>) =>\n  (obj: any, pattern: any, options: CompareOptions = {}) =>\n    simple<T>(\n      new Cls(obj, {\n        ...options,\n        expect: pattern,\n        parent: undefined,\n      })\n    )\n\n/** format a value and return the formatted string */\nexport const format = (\n  obj: any,\n  options: FormatOptions = {}\n): string => new Format(obj, options).print()\n/** convenience method for {@link tcompare!same.Same} */\nexport const same = fn(Same)\n/** convenience method for {@link Strict} */\nexport const strict = fn(Strict)\n/** convenience method for {@link Has} */\nexport const has = fn(Has)\n/** convenience method for {@link HasStrict} */\nexport const hasStrict = fn(HasStrict)\n/** convenience method for {@link Match} */\nexport const match = fn(Match)\n/** convenience method for {@link MatchOnly} */\nexport const matchOnly = fn(MatchOnly)\n/** convenience method for {@link MatchStrict} */\nexport const matchStrict = fn(MatchStrict)\n/** convenience method for {@link MatchOnlyStrict} */\nexport const matchOnlyStrict = fn(MatchOnlyStrict)\n\nexport { Format } from './format.js'\nexport type { FormatOptions } from './format.js'\nexport { HasStrict } from './has-strict.js'\nexport { Has } from './has.js'\nexport { MatchOnly } from './match-only.js'\nexport { MatchStrict } from './match-strict.js'\nexport { MatchOnlyStrict } from './match-only-strict.js'\nexport { Match } from './match.js'\nexport { Same } from './same.js'\nexport type { SameOptions } from './same.js'\nexport { Strict } from './strict.js'\nexport { styles } from './styles.js'\nexport type { Style } from './styles.js'\n"]}