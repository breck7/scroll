{"version":3,"file":"processinfo-completions.js","sourceRoot":"","sources":["../../../src/repl/processinfo-completions.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,iBAAiB,EAAE,MAAM,yBAAyB,CAAA;AAE3D,MAAM,CAAC,MAAM,sBAAsB,GAAG,CACpC,EAAe,EACf,IAAc,EACd,KAAa,EACb,EAAE;IACF,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,CAAA;IAC3B,MAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,CAAA;IACzD,MAAM,GAAG,GAAG,CACV,EAAE,KAAK,EAAE;QACP,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CACnD,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAA;IAClC,MAAM,OAAO,GAAG,iBAAiB,CAC/B,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EACxB,KAAK,CACN,CAAA;IACD,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;QACxB,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,CAAA;KAClB;IACD,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAA;AACzB,CAAC,CAAA","sourcesContent":["import type { ProcessInfo } from '@tapjs/processinfo'\nimport { filterCompletions } from './filter-completions.js'\n\nexport const processinfoCompletions = (\n  pi: ProcessInfo,\n  args: string[],\n  input: string\n) => {\n  const lw = args.pop() || ''\n  const stem = input.substring(0, input.length - lw.length)\n  const ids = (\n    lw === ''\n      ? [...pi.externalIDs.keys()]\n      : [...pi.externalIDs.keys(), ...pi.uuids.keys()]\n  ).filter(id => !args.includes(id))\n  const matches = filterCompletions(\n    ids.map(id => stem + id),\n    input\n  )\n  if (matches.length === 1) {\n    matches[0] += ' '\n  }\n  return [matches, input]\n}\n"]}