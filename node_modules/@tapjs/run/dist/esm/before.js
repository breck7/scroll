import { foregroundChild } from 'foreground-child';
import { resolve } from 'path';
const node = process.execPath;
export const runBefore = (t, argv, config) => {
    const before = config.get('before');
    if (before) {
        t.before(async () => new Promise(res => {
            foregroundChild(node, [...argv, resolve(before)], (code, signal) => {
                res();
                if (code || signal)
                    return;
                return false;
            });
        }));
        return resolve(before);
    }
};
//# sourceMappingURL=before.js.map