{"version":3,"file":"test-badge.js","sourceRoot":"","sources":["../../src/test-badge.tsx"],"names":[],"mappings":"AACA,OAAO,EAAE,IAAI,EAAE,MAAM,KAAK,CAAA;AAC1B,OAAO,KAAa,MAAM,OAAO,CAAA;AAMjC,MAAM,CAAC,MAAM,SAAS,GAAsB,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE;IACvD,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,IAAI,CAAA;IACpD,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAA;IACxD,IAAI,CAAC,OAAO,EAAE;QACZ,OAAO,CACL,oBAAC,IAAI,IAAC,eAAe,EAAC,QAAQ,EAAC,KAAK,EAAC,MAAM,EAAC,IAAI,UAC7C,QAAQ,CACJ,CACR,CAAA;KACF;IACD,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG,OAAO,CAAA;IAC/C,yCAAyC;IACzC,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,IAAI,EAAE,CAAA;IAC9B,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,EAAE,CAAA;IACzC,MAAM,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI,OAAO,IAAI,CAAC,CAAC,WAAW,CAAA;IACjD,MAAM,MAAM,GACV,CAAC,EAAE;QACH,CAAC,CAAC,IAAI;QACN,MAAM;QACN,SAAS;QACT,QAAQ;QACR,CAAC,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC;QACpB,CAAC,MAAM,IAAI,QAAQ,CAAC,CAAA;IACtB,OAAO,MAAM,CAAC,CAAC,CAAC,CACd,oBAAC,IAAI,IAAC,eAAe,EAAC,KAAK,EAAC,KAAK,EAAC,MAAM,EAAC,IAAI,UAC1C,QAAQ,CACJ,CACR,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CACX,oBAAC,IAAI,IAAC,eAAe,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,IAAI,UAC3C,QAAQ,CACJ,CACR,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CACX,oBAAC,IAAI,IAAC,eAAe,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,IAAI,UAC3C,QAAQ,CACJ,CACR,CAAC,CAAC,CAAC,CACF,oBAAC,IAAI,IAAC,eAAe,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,IAAI,UAC3C,QAAQ,CACJ,CACR,CAAA;AACH,CAAC,CAAA","sourcesContent":["import { Base } from '@tapjs/core'\nimport { Text } from 'ink'\nimport React, { FC } from 'react'\n\nexport interface TestBadgeOpts {\n  test: Base\n}\n\nexport const TestBadge: FC<TestBadgeOpts> = ({ test }) => {\n  const { results, counts, options, bailedOut } = test\n  const { exitCode, signal, failSkip, failTodo } = options\n  if (!results) {\n    return (\n      <Text backgroundColor=\"yellow\" color=\"#000\" bold>\n        {' RUNS '}\n      </Text>\n    )\n  }\n  const { ok, skip: resultsSkip, plan } = results\n  // we don't get these things on a bailout\n  const { skipAll } = plan || {}\n  const { fail, todo, skip } = counts || {}\n  const isSkip = !!skip || skipAll || !!resultsSkip\n  const isFail =\n    !ok ||\n    !!fail ||\n    signal ||\n    bailedOut ||\n    exitCode ||\n    (!!todo && failTodo) ||\n    (isSkip && failSkip)\n  return isFail ? (\n    <Text backgroundColor=\"red\" color=\"#fff\" bold>\n      {' FAIL '}\n    </Text>\n  ) : !!todo ? (\n    <Text backgroundColor=\"#808\" color=\"#fff\" bold>\n      {' TODO '}\n    </Text>\n  ) : isSkip ? (\n    <Text backgroundColor=\"blue\" color=\"#fff\" bold>\n      {' SKIP '}\n    </Text>\n  ) : (\n    <Text backgroundColor=\"#0a0\" color=\"#000\" bold>\n      {' PASS '}\n    </Text>\n  )\n}\n"]}