"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.plugin = exports.StdinPlugin = void 0;
const core_1 = require("@tapjs/core");
/* c8 ignore start */
const stdinCB = () => {
    throw new Error('this should not be called');
};
/* c8 ignore stop */
class StdinPlugin {
    #t;
    constructor(t) {
        this.#t = t;
    }
    stdin(name, extra) {
        if (name && typeof name === 'object') {
            extra = name;
            name = undefined;
        }
        name ??= '/dev/stdin';
        extra ??= {};
        return this.#t.sub(core_1.Stdin, (0, core_1.parseTestArgs)(name, extra, stdinCB), this.#t.t.stdin);
    }
}
exports.StdinPlugin = StdinPlugin;
const plugin = (t) => new StdinPlugin(t);
exports.plugin = plugin;
//# sourceMappingURL=index.js.map