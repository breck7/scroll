import { parseTestArgs, Stdin, } from '@tapjs/core';
/* c8 ignore start */
const stdinCB = () => {
    throw new Error('this should not be called');
};
/* c8 ignore stop */
export class StdinPlugin {
    #t;
    constructor(t) {
        this.#t = t;
    }
    stdin(name, extra) {
        if (name && typeof name === 'object') {
            extra = name;
            name = undefined;
        }
        name ??= '/dev/stdin';
        extra ??= {};
        return this.#t.sub(Stdin, parseTestArgs(name, extra, stdinCB), this.#t.t.stdin);
    }
}
export const plugin = (t) => new StdinPlugin(t);
//# sourceMappingURL=index.js.map