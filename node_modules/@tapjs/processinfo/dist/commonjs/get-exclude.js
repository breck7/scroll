"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getExclude = exports.defaultExclude = void 0;
exports.defaultExclude = /(^|[\\\/])(node_modules|\.tap|tap-testdir-.*?|tap-snapshots|tests?|[^\\\/]+\.test\.([cm]?[jt]s|[jt]sx?)|__tests?__)([\\\/]|$)/i;
const parseExclude = (src) => {
    if (!src)
        return;
    const parsed = src.match(/^\/(.*)\/([a-z]*)$/);
    if (parsed) {
        try {
            return new RegExp(parsed[1], parsed[2]);
        }
        catch (e) { }
    }
};
const proc = process;
const getExclude = (k, useDefault = true) => {
    const src = proc.env[k];
    const exclude = parseExclude(src) || (useDefault ? exports.defaultExclude : /$./);
    proc.env[k] = String(exclude);
    return exclude;
};
exports.getExclude = getExclude;
//# sourceMappingURL=get-exclude.js.map